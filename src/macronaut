#!/bin/bash
#
#  Copyright (c) 2017 Martin Jablecnik
#  Authors: Martin Jablecnik
#  Description: Wrapper for macro-creator
#  
#


action=${1}
name=${2}
macro_path=${HOME}/.config/macronaut
if [[ -z $name ]]; then name=default_macro; fi

mkdir -p ${macro_path}

if [[ ${action} == record ]]; then
  python /usr/bin/macro-creator --record --compile --name ${name} --output-path ${macro_path} 

elif [[ ${action} == play ]]; then
  python /usr/bin/macro-creator --start --name ${name} --output-path ${macro_path} 

elif [[ ${action} == rm || ${action} == remove ]]; then
  rm -rf $macro_path/$name

elif [[ ${action} == ls || ${action} == list ]]; then
  echo -e "\nYou can play this macros:\n"
  for i in $(ls $macro_path); do
    echo -e "\t\t$i"
  done
  echo ""

fi

